---
title: Proxy íŒ¨í„´
tags:
  - ë””ìì¸íŒ¨í„´
  - êµ¬ì¡°íŒ¨í„´
---

> ì‘ì„±ì : ë°•ì •ë¯¸

<!--more-->

___
# Structural Pattern

## Proxy Pattern

### ğŸ“š ì˜ë„

> ì‚¬ìš©í•  ê°ì²´ì˜ ì œì–´ê¶Œì„ ìœ„ì„í•¨ìœ¼ë¡œì¨, ê°ì²´ì— ëŒ€í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ëŒ€ì‹  ë°›ì•„ ì „ë‹¬í•©ë‹ˆë‹¤.


**Porxy** = ëŒ€ë¦¬, ëŒ€ì‹ 
ì›ë˜ ê°œì²´ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ ì œì–´í•˜ë¯€ë¡œ ìš”ì²­ì´ ì›ë˜ ê°ì²´ì— ì „ë‹¬ë˜ê¸° ì „ì´ë‚˜ í›„ì— ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.


- ì˜ˆì œ
  ì´ë¯¸ì§€ë¥¼ ë¡œë”©í•  ë•Œ í”„ë¡ì‹œ ì„œë²„ì— ì €ì¥í•˜ê³  ë‹¤ìŒ ìš”ì²­ ë•Œ ì‹¤ì œ ì„œë¹„ìŠ¤ê°€ ì•„ë‹Œ í”„ë¡ì‹œì—ì„œ ì´ë¯¸ì§€ ë¡œë“œ(ìºì‹±)

<br/><br/>

### ğŸ§± êµ¬ì¡°

![Structure of the Proxy design pattern](https://refactoring.guru/images/patterns/diagrams/proxy/structure.png)

1. **ServiceInterface**
2. **Service**
   - ìœ ìš©í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì œê³µ
3. **Proxy**
   - ì‹¤ì œ ì„œë¹„ìŠ¤ ê°ì²´ì™€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
   - `Service` ê°ì²´ì˜ ë ˆí¼ëŸ°ìŠ¤ í•„ë“œë¥¼ ê°€ì§„ë‹¤.
4. **Client**
   - `Service`ì—ê²Œ ê¸°ëŒ€í•˜ëŠ” ì¼ì„ `Proxy`ì—ê²Œ ì „ë‹¬í•œë‹¤.

<br/><br/>

### ğŸ’» ì½”ë“œ
1. **ServiceInterface**
   ```java
   public interface Image {
       void displayImage();
   }
   ```

2. **Service**
   ```java
   public class RealImage implements Image {
       private String filename;
   
       public RealImage(String filename) {
           this.filename = filename;
           loadImageFromDisk();
       }
   
       private void loadImageFromDisk() {
           System.out.println("Load " + filename);
       }
   
       @Override
       public void displayImage() {
           System.out.println("Display " + filename);
       }
   }
   ```

3. **Proxy**
   ```java
   public class ProxyImage implements Image {
       private String filename;
       private Image image;
   
       public ProxyImage(String filename) {
           this.filename = filename;
       }
   
       @Override
       public void displayImage() {
           if (image == null) {
               image = new RealImage(filename);
           }
           image.displayImage();
       }
   }
   ```

4. **Client**
   ```java
   public class Client {
       public static void main(String[] args) {
           Image image1 = new ProxyImage("abc.png");
           Image image2 = new ProxyImage("xyz.png");
   
           image1.displayImage();
           image1.displayImage();
   
           image2.displayImage();
           image2.displayImage();
       }
   }
   ```


- Console
  ```
  Load abc.png
  Display abc.png
  
  Display abc.png
  
  Load xyz.png
  Display xyz.png
  
  Display xyz.png
  ```

<br/><br/>

### ğŸ”® ì¥ë‹¨ì 
- **ì¥ì **
  1. í´ë¼ì´ì–¸íŠ¸ê°€ ì•Œì§€ ëª»í•˜ëŠ” ìƒíƒœì—ì„œ ì„œë¹„ìŠ¤ ê°œì²´ë¥¼ ì œì–´í•  ìˆ˜ ìˆë‹¤.
     - ì£¼ìš” ë¡œì§ì˜ ì „í›„ì— ì¶”ê°€ë¡œ ì²˜ë¦¬ë¡œ í•´ì£¼ì–´ì•¼í•  ë•Œ ì›ë³¸ì„ ìˆ˜ì •í•˜ì§€ ì•Šê³  í”„ë¡ì‹œì—ì„œ ìˆ˜ì • ê°€ëŠ¥
     - ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸° ë•Œë¬¸
  2. ì‚¬ì´ì¦ˆê°€ í° ê°ì²´ê°€ ë¡œë”©ë˜ê¸° ì „ì—ë„ í”„ë¡ì‹œë¥¼ í†µí•´ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
  3. í´ë¼ì´ì–¸íŠ¸ê°€ ì‹ ê²½ ì“°ì§€ ì•Šì„ ë•Œ ì„œë¹„ìŠ¤ ê°œì²´ì˜ ìˆ˜ëª… ì£¼ê¸°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.



- **ë‹¨ì **
  1. ì„œë¹„ìŠ¤ë¡œë¶€í„°ì˜ ì‘ë‹µì´ ì§€ì—°ë  ìˆ˜ ìˆë‹¤.
     - ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•œ ë‹¨ê³„ë¥¼ ê±°ì¹˜ê¸° ë•Œë¬¸
  2. ìƒˆë¡œìš´ í´ë˜ìŠ¤ë“¤ì„ ë§Œë“¤ì–´ì•¼í•´ì„œ ë³µì¡í•œ ì½”ë“œê°€ ë  ìˆ˜ ìˆë‹¤.


<br/><br/>

### â° ì–´ë–¤ ìƒí™©ì—ì„œ ì‚¬ìš©ë ê¹Œ?
- ê°€ìƒ í”„ë¡ì‹œ
  - ê¼­ í•„ìš”ë¡œ í•˜ëŠ” ì‹œì ê¹Œì§€ ê°ì²´ ìƒì„±ì„ ì—°ê¸°í•˜ê³ , í•´ë‹¹ ê°ì²´ê°€ ìƒì„±ëœ ê²ƒì²˜ëŸ¼ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´
- ì›ê²© í”„ë¡ì‹œ
  - ì›ê²© ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´ ë¡œì»¬ í™˜ê²½ì— ì¡´ì¬í•˜ë©°, ì›ê²©ê°ì²´ì— ëŒ€í•œ ëŒ€ë³€ì ì—­í• ì„ í•˜ëŠ” ê°ì²´ ì„œë¡œ ë‹¤ë¥¸ ì£¼ì†Œ ê³µê°„ì— ìˆëŠ” ê°ì²´ì— ëŒ€í•´ ë§ˆì¹˜ ê°™ì€ ì£¼ì†Œ ê³µê°„ì— ìˆëŠ” ê²ƒì²˜ëŸ¼ ë™ì‘í•˜ê²Œ ë§Œë“œëŠ” íŒ¨í„´
- ë³´í˜¸ í”„ë¡ì‹œ
  - ì£¼ì²´ í´ë˜ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ê¸° ìœ„í•œ ê²½ìš°ì— ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ì œì–´í•˜ê±°ë‚˜ ê°ì²´ë§ˆë‹¤ ì ‘ê·¼ ê¶Œí•œì„ ë‹¬ë¦¬í•˜ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´

<br/><br/>

#### ì¶œì²˜
- https://keichee.tistory.com/181
- https://coding-factory.tistory.com/711
